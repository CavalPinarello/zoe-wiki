(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16330,e=>{"use strict";e.s(["default",()=>u],16330);var t=e.i(18050),a=e.i(71645),s=e.i(18789),l=e.i(60508),r=e.i(75254);let n=(0,r.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),o=(0,r.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),i=(0,r.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),c=(0,r.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),d=(0,r.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var x=e.i(91432),h=e.i(5766),m=e.i(46932);function u(e){let{content:r,contentKey:u,title:g}=e,[p,y]=(0,a.useState)(r),[f,b]=(0,a.useState)(!1),[j,v]=(0,a.useState)(p),[w,N]=(0,a.useState)(!0),{isAuthenticated:k}=(0,x.useAuth)();return((0,a.useEffect)(()=>{let e=localStorage.getItem("wiki-content-".concat(u));e&&(y(e),v(e))},[u]),f&&k)?(0,t.jsxs)(m.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4",children:[g&&(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:g}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>N(!w),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2",children:[w?(0,t.jsx)(d,{className:"w-4 h-4"}):(0,t.jsx)(c,{className:"w-4 h-4"}),w?"Hide Preview":"Show Preview"]}),(0,t.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to reset to original content?")&&(localStorage.removeItem("wiki-content-".concat(u)),y(r),v(r),h.default.success("Content reset to original"))},className:"px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg hover:bg-yellow-200 transition-colors",children:"Reset to Original"})]})]}),(0,t.jsxs)("div",{className:"grid ".concat(w?"grid-cols-2 gap-4":"grid-cols-1"),children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Edit Markdown"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Supports full Markdown syntax"})]}),(0,t.jsx)("textarea",{value:j,onChange:e=>v(e.target.value),className:"w-full h-[600px] p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Enter markdown content..."})]}),w&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Live Preview"})}),(0,t.jsx)("div",{className:"h-[600px] p-4 border border-gray-200 rounded-lg overflow-y-auto bg-gray-50",children:(0,t.jsx)("div",{className:"prose prose-lg max-w-none",children:(0,t.jsx)(s.default,{remarkPlugins:[l.default],children:j})})})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>{localStorage.setItem("wiki-content-".concat(u),j),y(j),b(!1),h.default.success("Content saved successfully!")},className:"px-6 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(o,{className:"w-4 h-4"}),"Save Changes"]}),(0,t.jsxs)("button",{onClick:()=>{v(p),b(!1)},className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[(0,t.jsx)(i,{className:"w-4 h-4"}),"Cancel"]})]})]}):(0,t.jsxs)("div",{className:"relative group",children:[k&&(0,t.jsxs)("button",{onClick:()=>b(!0),className:"absolute top-4 right-4 p-2 bg-blue-500 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-blue-600 flex items-center gap-2 z-10",children:[(0,t.jsx)(n,{className:"w-4 h-4"}),"Edit"]}),(0,t.jsx)("div",{className:"prose prose-lg max-w-none prose-p:whitespace-pre-wrap",children:(0,t.jsx)(s.default,{remarkPlugins:[l.default],components:{p:e=>{let{children:a}=e;return(0,t.jsx)("p",{className:"mb-4",children:a})},h1:e=>{let{children:a}=e;return(0,t.jsx)("h1",{className:"text-4xl font-bold mt-8 mb-4",children:a})},h2:e=>{let{children:a}=e;return(0,t.jsx)("h2",{className:"text-3xl font-semibold mt-6 mb-3",children:a})},h3:e=>{let{children:a}=e;return(0,t.jsx)("h3",{className:"text-2xl font-semibold mt-4 mb-2",children:a})}},children:p})})]})}}]);